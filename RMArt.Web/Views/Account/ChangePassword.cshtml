@model ChangePasswordModel
@{
	ViewBag.Title = AccountResources.ChangePasswordTitle;
}

<div class="page-header">
	<h1>@ViewBag.Title</h1>
</div>

@Html.ValidationSummary(true, SharedResources.UnsuccessfulOperationMessage)

<form action="@Url.Action("ChangePassword")" method="post" class="form-horizontal">

	@Html.AntiForgeryToken()
	
	@if (!string.IsNullOrEmpty(Model.Key))
	{
		@Html.HiddenFor(m => m.Key)
	}
	else
	{
		<div class="form-group">
			<label for="OldPassword" class="col-md-2 control-label">@AccountResources.OldPassword</label>
			<div class="col-md-4">
				@Html.PasswordFor(m => m.OldPassword, new { required = "required", @class = "form-control" })
				@Html.ValidationMessageFor(m => m.OldPassword)
			</div>
		</div>
	}

	<div class="form-group">
		<label for="NewPassword" class="col-md-2 control-label">@AccountResources.NewPassword</label>
		<div class="col-md-4">
			@Html.PasswordFor(m => m.NewPassword, new { required = "required", @class = "form-control" })
			@Html.ValidationMessageFor(m => m.NewPassword)
		</div>
	</div>

	<div class="form-group">
		<label for="ConfirmPassword" class="col-md-2 control-label">@AccountResources.ConfirmPassword</label>
		<div class="col-md-4">
			@Html.PasswordFor(m => m.ConfirmPassword, new { required = "required", @class = "form-control" })
			@Html.ValidationMessageFor(m => m.ConfirmPassword)
		</div>
	</div>

	<div class="form-group">
		<div class="col-md-offset-2 col-md-10">
			<input type="submit" class="btn btn-primary" value="@AccountResources.ChangePassword" />
		</div>
	</div>

</form>